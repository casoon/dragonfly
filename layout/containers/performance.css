/**
 * Performance-Optimized Containers
 * 
 * Containers with modern performance optimizations like content-visibility and containment.
 */

@layer layout.containers.performance {
    /* ================= CONTENT-VISIBILITY OPTIMIZATIONS ================= */
    
    /* Containers with content-visibility for rendering optimization */
    .container-cv-auto {
        contain-intrinsic-size: 0 500px;
        content-visibility: auto;
    }
    
    .container-cv-auto-sm {
        contain-intrinsic-size: 0 200px;
        content-visibility: auto;
    }
    
    .container-cv-auto-md {
        contain-intrinsic-size: 0 400px;
        content-visibility: auto;
    }
    
    .container-cv-auto-lg {
        contain-intrinsic-size: 0 600px;
        content-visibility: auto;
    }
    
    .container-cv-auto-xl {
        contain-intrinsic-size: 0 800px;
        content-visibility: auto;
    }
    
    /* Explicit visibility control */
    .container-cv-hidden {
        content-visibility: hidden;
    }
    
    .container-cv-visible {
        content-visibility: visible;
    }
    
    /* ================= LAZY-LOADING CONTAINERS ================= */
    
    /* Containers for deferred content loading */
    .container-lazy {
        display: block;
        min-height: 1px;
        width: 100%;
    }
    
    .container-lazy-loading {
        opacity: 0%;
        transition: opacity 0.3s ease;
    }
    
    .container-lazy-loaded {
        opacity: 100%;
    }
    
    /* ================= CONTAINMENT STRATEGIES ================= */
    
    /* Containers with various containment strategies */
    .container-contain-layout {
        contain: layout;
    }
    
    .container-contain-paint {
        contain: paint;
    }
    
    .container-contain-size {
        contain: size;
    }
    
    .container-contain-style {
        contain: style;
    }
    
    .container-contain-content {
        contain: content;
    }
    
    .container-contain-strict {
        contain: strict;
    }
    
    /* ================= WILL-CHANGE OPTIMIZATIONS ================= */
    
    /* Containers with will-change for animation optimization */
    .container-will-change-transform {
        will-change: transform;
    }
    
    .container-will-change-opacity {
        will-change: opacity;
    }
    
    .container-will-change-scroll {
        will-change: scroll-position;
    }
    
    /* ================= VIRTUAL SCROLLING ================= */
    
    /* Containers for virtual scrolling with large datasets */
    .container-virtual-list {
        contain: strict;
        height: 100%;
        overflow-y: auto;
    }
    
    .container-virtual-list-item {
        contain: content;
    }
    
    /* ================= IMAGE LOADING OPTIMIZATION ================= */
    
    /* Containers for optimized image loading */
    .container-image-loading {
        background-color: var(--color-background-subtle, rgb(0 0 0 / 5%));
        position: relative;
    }
    
    .container-image-loading::before {
        content: "";
        display: block;
        padding-top: 56.25%; /* 16:9 aspect ratio as default */
        width: 100%;
    }
} 