/**
 * Responsive Layout-System mit Container Queries
 * 
 * Dieses System bietet zwei Wege der responsiven Anpassung:
 * 1. Container Queries: Präzise, kontextabhängige Anpassungen basierend auf Container-Größen
 * 2. Media Queries: Fallback für Browser ohne Container-Query-Unterstützung
 *
 * Zwei Container-Kontexte:
 * - layout: Globaler Kontext für Seitenlayouts (Präfix: sm\:, md\:, lg\:, xl\:)
 * - component: Lokaler Kontext für Komponenten (Präfix: c-sm\:, c-md\:, c-lg\:, c-xl\:)
 *
 * Breakpoints:
 * - sm: 480px  (Smartphones, kleine Tablets im Hochformat)
 * - md: 768px  (Tablets im Hochformat, kleine Tablets im Querformat)
 * - lg: 1024px (Tablets im Querformat, kleine Desktops)
 * - xl: 1440px (Große Desktops und Monitore)
 *
 * Hinweis: Feste Pixelwerte werden verwendet für bessere Kompatibilität mit LightningCSS.
 */

@layer layout.responsive {
    /* ================= CONTAINER QUERIES ================= */

    /* Feature-Detection für Container Queries */
    @supports (container-type: inline-size) {
        /* Gemeinsame Basis-Eigenschaften für alle Container-Größen */
        .container-query {
            container-name: layout;
            container-type: inline-size;
        }
        
        .component-query {
            container-name: component;
            container-type: inline-size;
        }

        /* ---- Responsive Klassen für layout-Container ---- */

        /* Gemeinsame Eigenschaften für alle Breakpoints */
        @container layout (min-width: 480px) {
            /* Layout-Eigenschaften */
            .sm\:flex-row { flex-direction: row; }

            .sm\:flex-col { flex-direction: column; }

            .sm\:flex-wrap { flex-wrap: wrap; }

            .sm\:flex-nowrap { flex-wrap: nowrap; }
            
            /* Grid-Definitionen */
            .sm\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }

            .sm\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }

            .sm\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

            .sm\:col-span-1 { grid-column: span 1; }

            .sm\:col-span-2 { grid-column: span 2; }

            .sm\:col-span-3 { grid-column: span 3; }

            .sm\:col-span-4 { grid-column: span 4; }

            .sm\:col-span-6 { grid-column: span 6; }

            .sm\:col-span-12 { grid-column: span 12; }
            
            /* Abstände */
            .sm\:gap-2 { gap: var(--space-2); }

            .sm\:gap-4 { gap: var(--space-4); }

            .sm\:gap-6 { gap: var(--space-6); }
            
            /* Flex-Basis Varianten (DRY) */
            .sm\:flex-basis-1-2 { flex-basis: 50%; }

            .sm\:flex-basis-1-3 { flex-basis: 33.3333%; }

            .sm\:flex-basis-2-3 { flex-basis: 66.6667%; }

            .sm\:flex-basis-1-4 { flex-basis: 25%; }

            .sm\:flex-basis-3-4 { flex-basis: 75%; }
            
            /* Ausrichtung */
            .sm\:items-center { align-items: center; }

            .sm\:justify-between { justify-content: space-between; }
        }

        @container layout (min-width: 768px) {
            /* Nur zusätzliche oder abweichende Eigenschaften für mittlere Container */
            .md\:grid-cols-6 { grid-template-columns: repeat(6, 1fr); }

            .md\:gap-8 { gap: var(--space-8); }
            
            /* Erweiterte Ausrichtungsoptionen */
            .md\:items-start { align-items: flex-start; }

            .md\:items-end { align-items: flex-end; }

            .md\:justify-center { justify-content: center; }

            .md\:justify-start { justify-content: flex-start; }

            .md\:justify-end { justify-content: flex-end; }
        }

        @container layout (min-width: 1024px) {
            /* Nur zusätzliche oder abweichende Eigenschaften für große Container */
            .lg\:grid-cols-12 { grid-template-columns: repeat(12, 1fr); }

            .lg\:gap-12 { gap: var(--space-12); }
            
            /* Erweiterte Flex-Basis-Optionen für größere Layouts */
            .lg\:flex-basis-1-5 { flex-basis: 20%; }

            .lg\:flex-basis-2-5 { flex-basis: 40%; }

            .lg\:flex-basis-3-5 { flex-basis: 60%; }

            .lg\:flex-basis-4-5 { flex-basis: 80%; }
        }
        
        /* ---- Responsive Klassen für component-Container ---- */

        /* Kombinierte, optimierte Regeln für Komponenten-Container */
        @container component (min-width: 480px) {
            /* Basis-Layout für kleine Komponenten */
            .c-sm\:flex-row { flex-direction: row; }

            .c-sm\:flex-col { flex-direction: column; }

            .c-sm\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }

            .c-sm\:gap-2 { gap: var(--space-2); }

            .c-sm\:flex-basis-1-2 { flex-basis: 50%; }
        }
        
        @container component (min-width: 768px) {
            /* Mittlere Komponenten-Layouts */
            .c-md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }

            .c-md\:gap-4 { gap: var(--space-4); }

            .c-md\:flex-basis-1-3 { flex-basis: 33.3333%; }
        }
        
        @container component (min-width: 1024px) {
            /* Erweiterte Komponenten-Layouts */
            .c-lg\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

            .c-lg\:gap-6 { gap: var(--space-6); }
        }
    }

    /* ================= FALLBACK MEDIA QUERIES ================= */

    /* Für Browser ohne Container-Query-Unterstützung - kombiniert und optimiert */
    
    /* Small-Breakpoint-Styles */
    @media (width >= 480px) {
        .sm\:grid-cols-2, .c-sm\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }

        .sm\:grid-cols-3, .c-sm\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }

        .sm\:gap-2, .c-sm\:gap-2 { gap: var(--space-2); }
        
        .sm\:items-center, .c-sm\:items-center { align-items: center; }

        .sm\:justify-between, .c-sm\:justify-between { justify-content: space-between; }
        
        /* Gemeinsame Styles für sm-Breakpoint */
        .sm\:flex-row, .c-sm\:flex-row { flex-direction: row; }

        .sm\:flex-col, .c-sm\:flex-col { flex-direction: column; }

        .sm\:flex-wrap, .c-sm\:flex-wrap { flex-wrap: wrap; }

        .sm\:flex-nowrap, .c-sm\:flex-nowrap { flex-wrap: nowrap; }
        
        /* Gemeinsame Grid-Eigenschaften */
        .sm\:gap-4, .c-sm\:gap-4 { gap: var(--space-4); }
        
        /* Gemeinsame Flex-Basis-Eigenschaften */
        .sm\:flex-basis-1-2, .c-sm\:flex-basis-1-2 { flex-basis: 50%; }

        .sm\:flex-basis-1-3, .c-sm\:flex-basis-1-3 { flex-basis: 33.3333%; }

        .sm\:flex-basis-2-3, .c-sm\:flex-basis-2-3 { flex-basis: 66.6667%; }

        .sm\:flex-basis-1-4, .c-sm\:flex-basis-1-4 { flex-basis: 25%; }

        .sm\:flex-basis-3-4, .c-sm\:flex-basis-3-4 { flex-basis: 75%; }
    }
    
    /* Medium-Breakpoint-Styles */
    @media (width >= 768px) {
        .md\:grid-cols-3, .c-md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }

        .md\:grid-cols-4, .c-md\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

        .md\:gap-6, .c-md\:gap-6 { gap: var(--space-6); }
        
        .md\:items-start { align-items: flex-start; }

        .md\:items-end { align-items: flex-end; }

        .md\:justify-center { justify-content: center; }
        
        /* Gemeinsame Styles für md-Breakpoint */
        .md\:flex-row, .c-md\:flex-row { flex-direction: row; }

        .md\:flex-col, .c-md\:flex-col { flex-direction: column; }

        .md\:flex-wrap, .c-md\:flex-wrap { flex-wrap: wrap; }

        .md\:flex-nowrap, .c-md\:flex-nowrap { flex-wrap: nowrap; }
        
        /* Gemeinsame Grid-Eigenschaften */
        .md\:gap-4, .c-md\:gap-4 { gap: var(--space-4); }
        
        /* Gemeinsame Flex-Basis-Eigenschaften */
        .md\:flex-basis-1-2, .c-md\:flex-basis-1-2 { flex-basis: 50%; }

        .md\:flex-basis-1-3, .c-md\:flex-basis-1-3 { flex-basis: 33.3333%; }

        .md\:flex-basis-2-3, .c-md\:flex-basis-2-3 { flex-basis: 66.6667%; }

        .md\:flex-basis-1-4, .c-md\:flex-basis-1-4 { flex-basis: 25%; }

        .md\:flex-basis-3-4, .c-md\:flex-basis-3-4 { flex-basis: 75%; }
    }
    
    /* Large-Breakpoint-Styles */
    @media (width >= 1024px) {
        .lg\:grid-cols-4, .c-lg\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

        .lg\:grid-cols-6, .c-lg\:grid-cols-6 { grid-template-columns: repeat(6, 1fr); }

        .lg\:gap-8, .c-lg\:gap-8 { gap: var(--space-8); }
        
        .lg\:flex-basis-1-5, .c-lg\:flex-basis-1-5 { flex-basis: 20%; }

        .lg\:flex-basis-2-5, .c-lg\:flex-basis-2-5 { flex-basis: 40%; }

        .lg\:flex-basis-3-5, .c-lg\:flex-basis-3-5 { flex-basis: 60%; }

        .lg\:flex-basis-4-5, .c-lg\:flex-basis-4-5 { flex-basis: 80%; }
        
        /* Gemeinsame Styles für lg-Breakpoint */
        .lg\:flex-row, .c-lg\:flex-row { flex-direction: row; }

        .lg\:flex-col, .c-lg\:flex-col { flex-direction: column; }

        .lg\:flex-wrap, .c-lg\:flex-wrap { flex-wrap: wrap; }

        .lg\:flex-nowrap, .c-lg\:flex-nowrap { flex-wrap: nowrap; }
        
        /* Gemeinsame Grid-Eigenschaften */
        .lg\:gap-4, .c-lg\:gap-4 { gap: var(--space-4); }
        
        /* Gemeinsame Flex-Basis-Eigenschaften */
        .lg\:flex-basis-1-2, .c-lg\:flex-basis-1-2 { flex-basis: 50%; }

        .lg\:flex-basis-1-3, .c-lg\:flex-basis-1-3 { flex-basis: 33.3333%; }

        .lg\:flex-basis-2-3, .c-lg\:flex-basis-2-3 { flex-basis: 66.6667%; }

        .lg\:flex-basis-1-4, .c-lg\:flex-basis-1-4 { flex-basis: 25%; }

        .lg\:flex-basis-3-4, .c-lg\:flex-basis-3-4 { flex-basis: 75%; }
    }
    
    /* Extra-Large-Breakpoint-Styles */
    @media (width >= 1440px) {
        .xl\:grid-cols-6, .c-xl\:grid-cols-6 { grid-template-columns: repeat(6, 1fr); }

        .xl\:grid-cols-12, .c-xl\:grid-cols-12 { grid-template-columns: repeat(12, 1fr); }

        .xl\:gap-12, .c-xl\:gap-12 { gap: var(--space-12); }
        
        /* Gemeinsame Styles für xl-Breakpoint */
        .xl\:flex-row, .c-xl\:flex-row { flex-direction: row; }

        .xl\:flex-col, .c-xl\:flex-col { flex-direction: column; }

        .xl\:flex-wrap, .c-xl\:flex-wrap { flex-wrap: wrap; }

        .xl\:flex-nowrap, .c-xl\:flex-nowrap { flex-wrap: nowrap; }
        
        /* Gemeinsame Grid-Eigenschaften */
        .xl\:gap-4, .c-xl\:gap-4 { gap: var(--space-4); }
        
        /* Gemeinsame Flex-Basis-Eigenschaften */
        .xl\:flex-basis-1-2, .c-xl\:flex-basis-1-2 { flex-basis: 50%; }

        .xl\:flex-basis-1-3, .c-xl\:flex-basis-1-3 { flex-basis: 33.3333%; }

        .xl\:flex-basis-2-3, .c-xl\:flex-basis-2-3 { flex-basis: 66.6667%; }

        .xl\:flex-basis-1-4, .c-xl\:flex-basis-1-4 { flex-basis: 25%; }

        .xl\:flex-basis-3-4, .c-xl\:flex-basis-3-4 { flex-basis: 75%; }
    }
} 